<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tonal Recall</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>Tonal Recall</h1>
            <p id="appSubtitle" class="app-subtitle">A memory game for ear training</p>
            <p id="gameSubtitle" class="game-subtitle hidden"></p>
            <p id="currentScaleDisplay" class="scale-display hidden"></p>
        </header>
        <div class="wizard-container">
            <!-- Wizard Progress -->
            <div class="wizard-progress">
                <div class="progress-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Mode</div>
                </div>
                <div class="progress-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Scale</div>
                </div>
                <div class="progress-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Waveform</div>
                </div>
                <div class="progress-step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">Difficulty</div>
                </div>
            </div>

            <!-- Wizard Steps -->
            <div class="wizard-steps">
                <!-- Step 1: Mode -->
                <div class="wizard-step active" data-step="1">
                    <h2 class="step-title">Choose Game Mode</h2>
                    <p class="step-description" id="step1Description"></p>
                    <div id="modeSelector" class="wizard-options">
                        <button class="wizard-option active" data-mode="match">
                            <span class="option-title">Match</span>
                            <span class="option-desc">Match pairs of identical tones</span>
                        </button>
                        <button class="wizard-option" data-mode="interval">
                            <span class="option-title">Intervals</span>
                            <span class="option-desc">Match sequences to harmonic intervals</span>
                        </button>
                        <button class="wizard-option" data-mode="triad">
                            <span class="option-title">Triads</span>
                            <span class="option-desc">Match sequences to triad chords</span>
                        </button>
                        <button class="wizard-option" data-mode="jazz">
                            <span class="option-title">Jazz</span>
                            <span class="option-desc">Match sequences to 7th chords</span>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Scale -->
                <div class="wizard-step" data-step="2">
                    <h2 class="step-title">Choose Scale</h2>
                    <p class="step-description">Select the root note and scale quality</p>

                    <div class="scale-section">
                        <label class="wizard-label">Root Note</label>
                        <div id="rootSelector" class="wizard-options compact">
                            <!-- Roots generated by JS -->
                        </div>
                    </div>

                    <div class="scale-section">
                        <label class="wizard-label">Scale Quality</label>
                        <div id="qualitySelector" class="wizard-options compact">
                            <!-- Qualities generated by JS -->
                        </div>
                    </div>

                    <div class="options-row hidden" id="inversionsContainer">
                        <label class="checkbox-container">
                            <input type="checkbox" id="inversionsCheckbox">
                            <span class="checkmark"></span>
                            Inversions
                        </label>
                        <label class="checkbox-container" style="margin-left: 20px;">
                            <input type="checkbox" id="susCheckbox">
                            <span class="checkmark"></span>
                            Suspended
                        </label>
                    </div>
                </div>

                <!-- Step 3: Waveform -->
                <div class="wizard-step" data-step="3">
                    <h2 class="step-title">Choose Waveform</h2>
                    <p class="step-description">Select the synthesizer waveform</p>
                    <div id="waveformSelector" class="wizard-options">
                        <!-- Waveforms generated by JS -->
                    </div>
                </div>

                <!-- Step 4: Difficulty -->
                <div class="wizard-step" data-step="4">
                    <h2 class="step-title">Choose Difficulty</h2>
                    <p class="step-description">Select the grid size</p>
                    <div id="gridSelector" class="wizard-options">
                        <button class="wizard-option active" data-size="16">
                            <span class="option-title">4×4</span>
                            <span class="option-desc">Easy - 8 pairs</span>
                        </button>
                        <button class="wizard-option" data-size="24">
                            <span class="option-title">4×6</span>
                            <span class="option-desc">Medium - 12 pairs</span>
                        </button>
                        <button class="wizard-option" data-size="36">
                            <span class="option-title">6×6</span>
                            <span class="option-desc">Hard - 18 pairs</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Wizard Navigation -->
            <div class="wizard-navigation">
                <button id="wizardBack" class="wizard-nav-btn" disabled>Back</button>
                <button id="wizardNext" class="wizard-nav-btn primary">Next</button>
                <button id="playButton" class="wizard-nav-btn primary hidden">Play</button>
            </div>
        </div>

        <div id="gameGrid" class="game-grid">
            <!-- Cards will be generated by JS -->
        </div>

        <div id="intervalContainer" class="interval-container hidden">
            <div class="interval-section">
                <h3>Sequence</h3>
                <div id="sequenceGrid" class="game-grid"></div>
            </div>
            <div class="interval-spacer"></div>
            <div class="interval-section">
                <h3>Chord</h3>
                <div id="chordGrid" class="game-grid"></div>
            </div>
        </div>
        <div id="congratsMessage" class="congrats-message hidden">
            <h2>Congratulations!</h2>
            <p>Harmony Restored!</p>
            <p class="hint">Click anywhere or press any key to restart</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>